<ng-container *ngIf="form$ | async as form; else loading">
  <form [formGroup]="form" (ngSubmit)="save(form)">
    <div class="form-group">
      <label for="name">Name</label>
      <input id="name" formControlName="name" />
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" formControlName="description"></textarea>
    </div>
    <div class="form-group">
      <label for="kpis">KPIs</label>
      <lib-edit-kpi formArrayName="kpis"></lib-edit-kpi>
    </div>
    <button primary *ngIf="form.dirty" [disabled]="!form.valid" type="submit">
      Save
    </button>
    <button type="button" routerLink="../../dashboard">Cancel</button>
  </form>
</ng-container>
<ng-template #loading> ...Loading collection </ng-template>
